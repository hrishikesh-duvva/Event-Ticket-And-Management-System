import{a as j}from"./chunk-R3BLK4VH.js";import{a as D}from"./chunk-Z27GNLBQ.js";import{b as E,e as V,f as O,g as T,h as L,i as R,p as q,q as F,r as k,s as W}from"./chunk-C7UFNYZC.js";import{h as A,l as N}from"./chunk-LKO6ZGM4.js";import{K as C,Ka as g,Na as m,Qa as o,Ra as t,Wa as S,Wb as y,X as P,Xa as x,Ya as b,_b as I,da as u,ea as f,eb as d,fb as l,jb as h,kb as v,lb as w,nb as M,ya as a,za as _}from"./chunk-A5IQK4TJ.js";import"./chunk-JHI3MBHO.js";function B(e,i){e&1&&(o(0,"span"),l(1,"Phone number is required."),t())}function G(e,i){e&1&&(o(0,"span"),l(1,"Phone number must be 10 digits long."),t())}function H(e,i){if(e&1&&(o(0,"div",11),g(1,B,2,0,"span",12)(2,G,2,0,"span",12),t()),e&2){b();let n=d(8);a(),m("ngIf",n.errors==null?null:n.errors.required),a(),m("ngIf",n.errors==null?null:n.errors.pattern)}}function J(e,i){e&1&&(o(0,"span"),l(1,"Password is required."),t())}function K(e,i){e&1&&(o(0,"span"),l(1,"Password must be at least 6 characters long."),t())}function Q(e,i){if(e&1&&(o(0,"div",11),g(1,J,2,0,"span",12)(2,K,2,0,"span",12),t()),e&2){b();let n=d(14);a(),m("ngIf",n.errors==null?null:n.errors.required),a(),m("ngIf",n.errors==null?null:n.errors.minlength)}}var z=class e{constructor(i,n,s){this.aadminService=i;this.router=n;this.authService=s}PhoneNumber="";Password="";Role="Admin";ngOnInit(){throw new Error("Method not implemented.")}onLogin(){console.log(this.PhoneNumber,this.Password,this.Role),this.authService.login({PhoneNumber:this.PhoneNumber,Password:this.Password,Role:this.Role}).pipe(C({next:i=>{console.log("Login successful",i),localStorage.setItem("token",i.token)},error:i=>{console.error("Login failed",i)}})).subscribe(),this.router.navigate(["/admin/dashboard"])}static \u0275fac=function(n){return new(n||e)(_(j),_(A),_(D))};static \u0275cmp=P({type:e,selectors:[["app-alogin"]],standalone:!0,features:[M],decls:18,vars:5,consts:[["registerForm","ngForm"],["phoneInput","ngModel"],["passwordInput","ngModel"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","phoneNumber"],["id","phoneNumber","type","tel","name","phoneNumber","required","","pattern","^[0-9]{10}$",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","password"],["id","password","type","password","name","password","required","","minlength","6",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"error-message"],[4,"ngIf"]],template:function(n,s){if(n&1){let p=S();o(0,"form",3,0),x("ngSubmit",function(){return u(p),f(s.onLogin())}),o(2,"h1"),l(3," Admin Login"),t(),o(4,"div",4)(5,"label",5),l(6,"Phone Number"),t(),o(7,"input",6,1),w("ngModelChange",function(r){return u(p),v(s.PhoneNumber,r)||(s.PhoneNumber=r),f(r)}),t(),g(9,H,3,2,"div",7),t(),o(10,"div",4)(11,"label",8),l(12,"Password"),t(),o(13,"input",9,2),w("ngModelChange",function(r){return u(p),v(s.Password,r)||(s.Password=r),f(r)}),t(),g(15,Q,3,2,"div",7),t(),o(16,"button",10),l(17," Login "),t()()}if(n&2){let p=d(1),c=d(8),r=d(14);a(7),h("ngModel",s.PhoneNumber),a(2),m("ngIf",c.invalid&&c.touched),a(4),h("ngModel",s.Password),a(2),m("ngIf",r.invalid&&r.touched),a(),m("disabled",p.invalid)}},dependencies:[I,y,N,W,R,E,V,O,q,F,k,L,T],styles:[".login-form[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;padding:1.5rem;border:1px solid #ccc;border-radius:8px;box-shadow:0 2px 4px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:.5rem}input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}input[_ngcontent-%COMP%]:focus{border-color:#f84464;outline:none;box-shadow:0 0 4px #007bff40}.error-message[_ngcontent-%COMP%]{color:#ff4d4d;font-size:.85rem;margin-top:.25rem}.btn[_ngcontent-%COMP%]{display:block;width:100%;padding:.75rem;background-color:#f84464;color:#fff;border:none;border-radius:4px;font-size:1rem;cursor:pointer;margin-top:1rem}.btn[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]})};export{z as AloginComponent};
