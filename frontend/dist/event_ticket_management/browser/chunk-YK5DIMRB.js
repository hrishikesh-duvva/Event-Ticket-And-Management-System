import{a as G}from"./chunk-Z27GNLBQ.js";import{b as q,e as W,f as A,g as D,h as L,i as F,p as B,q as U,r as j,s as z}from"./chunk-C7UFNYZC.js";import{f as T,h as V,l as k}from"./chunk-LKO6ZGM4.js";import{K as M,Ka as p,Na as m,Qa as i,Ra as n,Ub as E,Wa as R,Wb as N,X as S,Xa as x,Ya as _,_b as O,da as u,ea as f,eb as d,fb as s,gb as I,jb as b,kb as h,lb as C,nb as P,ya as r,za as v}from"./chunk-A5IQK4TJ.js";import"./chunk-JHI3MBHO.js";function J(e,o){e&1&&(i(0,"span"),s(1,"Username is required."),n())}function K(e,o){e&1&&(i(0,"span"),s(1,"Username must be at least 3 characters long."),n())}function Q(e,o){if(e&1&&(i(0,"div",20),p(1,J,2,0,"span",21)(2,K,2,0,"span",21),n()),e&2){_();let t=d(6);r(),m("ngIf",t.errors==null?null:t.errors.required),r(),m("ngIf",t.errors==null?null:t.errors.minlength)}}function X(e,o){e&1&&(i(0,"span"),s(1,"Password is required."),n())}function Y(e,o){e&1&&(i(0,"span"),s(1,"Password must be at least 6 characters long."),n())}function Z(e,o){if(e&1&&(i(0,"div",20),p(1,X,2,0,"span",21)(2,Y,2,0,"span",21),n()),e&2){_();let t=d(12);r(),m("ngIf",t.errors==null?null:t.errors.required),r(),m("ngIf",t.errors==null?null:t.errors.minlength)}}function $(e,o){e&1&&(i(0,"span"),s(1,"Email is required."),n())}function ee(e,o){e&1&&(i(0,"span"),s(1,"Please enter a valid email address."),n())}function te(e,o){if(e&1&&(i(0,"div",20),p(1,$,2,0,"span",21)(2,ee,2,0,"span",21),n()),e&2){_();let t=d(18);r(),m("ngIf",t.errors==null?null:t.errors.required),r(),m("ngIf",t.errors==null?null:t.errors.email)}}function ne(e,o){e&1&&(i(0,"span"),s(1,"Phone number is required."),n())}function ie(e,o){e&1&&(i(0,"span"),s(1,"Phone number must be 10 digits long."),n())}function re(e,o){if(e&1&&(i(0,"div",20),p(1,ne,2,0,"span",21)(2,ie,2,0,"span",21),n()),e&2){_();let t=d(24);r(),m("ngIf",t.errors==null?null:t.errors.required),r(),m("ngIf",t.errors==null?null:t.errors.pattern)}}function oe(e,o){if(e&1&&(i(0,"div",22)(1,"p"),s(2),n()()),e&2){let t=_();m("ngClass",t.registrationStatus.type),r(2),I(t.registrationStatus.message)}}var H=class e{constructor(o,t,l){this.route=o;this.authService=t;this.router=l}role="";ngOnInit(){this.role=this.route.snapshot.paramMap.get("option")}username="";password="";email="";phoneNumber="";onClickLogin(){this.role?(this.router.navigate([`${this.role}/login`]),console.log(`Creating account for: ${this.role}`)):alert("Please select an option before creating an account.")}registrationStatus=null;registrationDetails=null;onRegister(){let o={Username:this.username,Password:this.password,Role:this.role,Email:this.email,PhoneNumber:this.phoneNumber};console.log(o),this.authService.register(o).pipe(M({next:t=>{console.log("Registration successful:",t),this.registrationStatus={message:"Registration was successful!",type:"success"},this.registrationDetails=o},error:t=>{console.error("Registration failed:",t),this.registrationStatus={message:"Registration failed. Please try again.",type:"error"},this.registrationDetails=null}})).subscribe()}static \u0275fac=function(t){return new(t||e)(v(T),v(G),v(V))};static \u0275cmp=S({type:e,selectors:[["app-uregister"]],standalone:!0,features:[P],decls:34,vars:10,consts:[["registerForm","ngForm"],["usernameInput","ngModel"],["passwordInput","ngModel"],["emailInput","ngModel"],["phoneInput","ngModel"],[1,"register-form",3,"ngSubmit"],[1,"form-group"],["for","username"],["id","username","type","text","name","username","required","","minlength","3",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","password"],["id","password","type","password","name","password","required","","minlength","6",1,"form-control",3,"ngModelChange","ngModel"],["for","email"],["id","email","type","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","phoneNumber"],["id","phoneNumber","type","tel","name","phoneNumber","required","","pattern","^[0-9]{10}$",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","status-message",3,"ngClass",4,"ngIf"],[1,"login-link"],["type","button",3,"click"],[1,"error-message"],[4,"ngIf"],[1,"status-message",3,"ngClass"]],template:function(t,l){if(t&1){let g=R();i(0,"form",5,0),x("ngSubmit",function(){return u(g),f(l.onRegister())}),i(2,"div",6)(3,"label",7),s(4,"Username"),n(),i(5,"input",8,1),C("ngModelChange",function(a){return u(g),h(l.username,a)||(l.username=a),f(a)}),n(),p(7,Q,3,2,"div",9),n(),i(8,"div",6)(9,"label",10),s(10,"Password"),n(),i(11,"input",11,2),C("ngModelChange",function(a){return u(g),h(l.password,a)||(l.password=a),f(a)}),n(),p(13,Z,3,2,"div",9),n(),i(14,"div",6)(15,"label",12),s(16,"Email"),n(),i(17,"input",13,3),C("ngModelChange",function(a){return u(g),h(l.email,a)||(l.email=a),f(a)}),n(),p(19,te,3,2,"div",9),n(),i(20,"div",6)(21,"label",14),s(22,"Phone Number"),n(),i(23,"input",15,4),C("ngModelChange",function(a){return u(g),h(l.phoneNumber,a)||(l.phoneNumber=a),f(a)}),n(),p(25,re,3,2,"div",9),n(),i(26,"button",16),s(27," Register "),n()(),p(28,oe,3,2,"div",17),i(29,"div",18)(30,"p"),s(31," Already have an account? "),i(32,"a",19),x("click",function(){return u(g),f(l.onClickLogin())}),s(33,"Login"),n()()()}if(t&2){let g=d(1),c=d(6),a=d(12),y=d(18),w=d(24);r(5),b("ngModel",l.username),r(2),m("ngIf",c.invalid&&c.touched),r(4),b("ngModel",l.password),r(2),m("ngIf",a.invalid&&a.touched),r(4),b("ngModel",l.email),r(2),m("ngIf",y.invalid&&y.touched),r(4),b("ngModel",l.phoneNumber),r(2),m("ngIf",w.invalid&&w.touched),r(),m("disabled",g.invalid),r(2),m("ngIf",l.registrationStatus)}},dependencies:[z,F,q,W,A,B,U,j,L,D,O,E,N,k],styles:[".register-form[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;padding:1.5rem;border:1px solid #ccc;border-radius:8px;box-shadow:0 2px 4px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:.5rem}input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}input[_ngcontent-%COMP%]:focus{border-color:#f5e3c0;outline:none;box-shadow:0 0 4px #007bff40}.error-message[_ngcontent-%COMP%]{color:#ff4d4d;font-size:.85rem;margin-top:.25rem}.btn[_ngcontent-%COMP%]{display:block;width:100%;padding:.75rem;background-color:#2b2b2b;color:#f5e3c0;border:none;border-radius:4px;font-size:1rem;cursor:pointer;margin-top:1rem}.btn[_ngcontent-%COMP%]:hover{background-color:#f5e3c0;color:#2b2b2b}.btn[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.login-link[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.status-message[_ngcontent-%COMP%]{padding:10px;border-radius:5px;margin-top:20px;text-align:center}.status-message.success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.status-message.error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}"]})};export{H as RegisterComponent};
