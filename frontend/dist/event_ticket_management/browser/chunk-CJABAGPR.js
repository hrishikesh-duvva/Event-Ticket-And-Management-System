import{a as D}from"./chunk-Z27GNLBQ.js";import{b as V,e as O,f as T,g as L,h as F,i as k,p as W,q as A,r as j,s as Q}from"./chunk-C7UFNYZC.js";import{h as E,l as R}from"./chunk-LKO6ZGM4.js";import{K as C,Ka as c,N as y,Na as p,Qa as r,Ra as o,Wa as x,Wb as N,X as P,Xa as I,Ya as _,_b as q,da as g,ea as f,eb as m,fb as l,jb as S,kb as v,lb as w,nb as M,ya as a,za as b}from"./chunk-A5IQK4TJ.js";import"./chunk-JHI3MBHO.js";var h=class e{queries=[{id:1,user:"Alice",question:"How do I reset my password?",status:"Pending"},{id:2,user:"Bob",question:"Can I upgrade my subscription?",status:"Pending"},{id:3,user:"Charlie",question:"What is the refund policy?",status:"Resolved",response:"You can request a refund within 30 days."}];getQueries(){return this.queries}respondToQuery(t,n){let i=this.queries.find(d=>d.id===t);i&&(i.response=n,i.status="Resolved")}static \u0275fac=function(n){return new(n||e)};static \u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"})};function H(e,t){e&1&&(r(0,"span"),l(1,"Phone number is required."),o())}function Y(e,t){e&1&&(r(0,"span"),l(1,"Phone number must be 10 digits long."),o())}function J(e,t){if(e&1&&(r(0,"div",11),c(1,H,2,0,"span",12)(2,Y,2,0,"span",12),o()),e&2){_();let n=m(8);a(),p("ngIf",n.errors==null?null:n.errors.required),a(),p("ngIf",n.errors==null?null:n.errors.pattern)}}function K(e,t){e&1&&(r(0,"span"),l(1,"Password is required."),o())}function U(e,t){e&1&&(r(0,"span"),l(1,"Password must be at least 6 characters long."),o())}function X(e,t){if(e&1&&(r(0,"div",11),c(1,K,2,0,"span",12)(2,U,2,0,"span",12),o()),e&2){_();let n=m(14);a(),p("ngIf",n.errors==null?null:n.errors.required),a(),p("ngIf",n.errors==null?null:n.errors.minlength)}}var z=class e{constructor(t,n,i){this.supportService=t;this.router=n;this.authService=i}PhoneNumber="";Password="";Role="SupportAgent";ngOnInit(){throw new Error("Method not implemented.")}onLogin(){console.log(this.PhoneNumber,this.Password,this.Role),this.authService.login({PhoneNumber:this.PhoneNumber,Password:this.Password,Role:this.Role}).pipe(C({next:t=>{console.log("Login successful",t),localStorage.setItem("token",t.token)},error:t=>{console.error("Login failed",t)}})).subscribe(),this.router.navigate(["/support/dashboard"])}static \u0275fac=function(n){return new(n||e)(b(h),b(E),b(D))};static \u0275cmp=P({type:e,selectors:[["app-slogin"]],standalone:!0,features:[M],decls:18,vars:5,consts:[["registerForm","ngForm"],["phoneInput","ngModel"],["passwordInput","ngModel"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","phoneNumber"],["id","phoneNumber","type","tel","name","phoneNumber","required","","pattern","^[0-9]{10}$",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","password"],["id","password","type","password","name","password","required","","minlength","6",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"error-message"],[4,"ngIf"]],template:function(n,i){if(n&1){let d=x();r(0,"form",3,0),I("ngSubmit",function(){return g(d),f(i.onLogin())}),r(2,"h1"),l(3," Support Login"),o(),r(4,"div",4)(5,"label",5),l(6,"Phone Number"),o(),r(7,"input",6,1),w("ngModelChange",function(s){return g(d),v(i.PhoneNumber,s)||(i.PhoneNumber=s),f(s)}),o(),c(9,J,3,2,"div",7),o(),r(10,"div",4)(11,"label",8),l(12,"Password"),o(),r(13,"input",9,2),w("ngModelChange",function(s){return g(d),v(i.Password,s)||(i.Password=s),f(s)}),o(),c(15,X,3,2,"div",7),o(),r(16,"button",10),l(17," Login "),o()()}if(n&2){let d=m(1),u=m(8),s=m(14);a(7),S("ngModel",i.PhoneNumber),a(2),p("ngIf",u.invalid&&u.touched),a(4),S("ngModel",i.Password),a(2),p("ngIf",s.invalid&&s.touched),a(),p("disabled",d.invalid)}},dependencies:[q,N,R,Q,k,V,O,T,W,A,j,F,L],styles:[".login-form[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;padding:1.5rem;border:1px solid #ccc;border-radius:8px;box-shadow:0 2px 4px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:.5rem}input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}input[_ngcontent-%COMP%]:focus{border-color:#f84464;outline:none;box-shadow:0 0 4px #007bff40}.error-message[_ngcontent-%COMP%]{color:#ff4d4d;font-size:.85rem;margin-top:.25rem}.btn[_ngcontent-%COMP%]{display:block;width:100%;padding:.75rem;background-color:#f84464;color:#fff;border:none;border-radius:4px;font-size:1rem;cursor:pointer;margin-top:1rem}.btn[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]})};export{z as SloginComponent};
