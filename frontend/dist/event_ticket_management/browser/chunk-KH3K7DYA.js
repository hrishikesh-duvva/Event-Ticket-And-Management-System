import{a as J}from"./chunk-EVO7D32F.js";import"./chunk-G5KA7DMQ.js";import{b as R,e as D,f as q,g as z,h as A,i as U,j,p as H,s as G}from"./chunk-C7UFNYZC.js";import{Ka as v,N as y,Na as _,Qa as i,Ra as o,S as P,Vb as O,Wa as S,Wb as V,X as E,Xa as w,Ya as c,Zb as k,_b as F,da as g,ea as h,ec as B,fb as a,fc as L,gb as N,hb as I,ib as W,jb as m,kb as p,lb as u,nb as T,sb as f,tb as M,ya as l,za as C}from"./chunk-A5IQK4TJ.js";import{a as b}from"./chunk-JHI3MBHO.js";var x=class s{constructor(d){this.http=d}apiUrl="http://localhost:5095/api/schedules";createSchedule(d){let n=localStorage.getItem("token"),r=new B().set("Authorization",`Bearer ${n}`);return this.http.post(`${this.apiUrl}`,d,{headers:r})}static \u0275fac=function(n){return new(n||s)(P(L))};static \u0275prov=y({token:s,factory:s.\u0275fac,providedIn:"root"})};function Y(s,d){if(s&1){let n=S();i(0,"li")(1,"button",17),w("click",function(){let e=g(n).index,t=c(2);return h(t.deleteSchedule(e))}),a(2,"\xD7"),o(),i(3,"strong"),a(4),o(),i(5,"span"),a(6),f(7,"date"),f(8,"date"),o(),i(9,"span")(10,"strong"),a(11,"Speaker:"),o(),a(12),o()()}if(s&2){let n=d.$implicit;l(4),N(n.sessionName),l(2),W("",M(7,4,n.startTime,"mediumDate")," - ",M(8,7,n.endTime,"shortTime"),""),l(6),I(" ",n.speakerName,"")}}function Z(s,d){if(s&1&&(i(0,"ul"),v(1,Y,13,10,"li",16),o()),s&2){let n=c();l(),_("ngForOf",n.event.schedules)}}function $(s,d){if(s&1){let n=S();i(0,"div",18)(1,"div",2)(2,"label"),a(3,"Session Name"),o(),i(4,"input",19),u("ngModelChange",function(e){g(n);let t=c();return p(t.newSchedule.sessionName,e)||(t.newSchedule.sessionName=e),h(e)}),o()(),i(5,"div",2)(6,"label"),a(7,"Start Time"),o(),i(8,"input",20),u("ngModelChange",function(e){g(n);let t=c();return p(t.newSchedule.startTime,e)||(t.newSchedule.startTime=e),h(e)}),o()(),i(9,"div",2)(10,"label"),a(11,"End Time"),o(),i(12,"input",21),u("ngModelChange",function(e){g(n);let t=c();return p(t.newSchedule.endTime,e)||(t.newSchedule.endTime=e),h(e)}),o()(),i(13,"div",2)(14,"label"),a(15,"Speaker Name"),o(),i(16,"input",22),u("ngModelChange",function(e){g(n);let t=c();return p(t.newSchedule.speakerName,e)||(t.newSchedule.speakerName=e),h(e)}),o()(),i(17,"div",2)(18,"label"),a(19,"Description"),o(),i(20,"textarea",23),u("ngModelChange",function(e){g(n);let t=c();return p(t.newSchedule.description,e)||(t.newSchedule.description=e),h(e)}),o()(),i(21,"div",2)(22,"label"),a(23,"VIP Rows"),o(),i(24,"input",24),u("ngModelChange",function(e){g(n);let t=c();return p(t.newSchedule.vipRows,e)||(t.newSchedule.vipRows=e),h(e)}),o()(),i(25,"div",2)(26,"label"),a(27,"General Rows"),o(),i(28,"input",25),u("ngModelChange",function(e){g(n);let t=c();return p(t.newSchedule.generalRows,e)||(t.newSchedule.generalRows=e),h(e)}),o()(),i(29,"div",2)(30,"label"),a(31,"Capacity"),o(),i(32,"input",26),u("ngModelChange",function(e){g(n);let t=c();return p(t.newSchedule.capacity,e)||(t.newSchedule.capacity=e),h(e)}),o()(),i(33,"div",2)(34,"label"),a(35,"VIP Price"),o(),i(36,"input",27),u("ngModelChange",function(e){g(n);let t=c();return p(t.newSchedule.vipPrice,e)||(t.newSchedule.vipPrice=e),h(e)}),o()(),i(37,"div",2)(38,"label"),a(39,"General Price"),o(),i(40,"input",28),u("ngModelChange",function(e){g(n);let t=c();return p(t.newSchedule.generalPrice,e)||(t.newSchedule.generalPrice=e),h(e)}),o()(),i(41,"button",29),w("click",function(){g(n);let e=c();return h(e.addSchedule())}),a(42,"Add Schedule"),o()()}if(s&2){let n=c();l(4),m("ngModel",n.newSchedule.sessionName),l(4),m("ngModel",n.newSchedule.startTime),l(4),m("ngModel",n.newSchedule.endTime),l(4),m("ngModel",n.newSchedule.speakerName),l(4),m("ngModel",n.newSchedule.description),l(4),m("ngModel",n.newSchedule.vipRows),l(4),m("ngModel",n.newSchedule.generalRows),l(4),m("ngModel",n.newSchedule.capacity),l(4),m("ngModel",n.newSchedule.vipPrice),l(4),m("ngModel",n.newSchedule.generalPrice)}}function ee(s,d){if(s&1){let n=S();i(0,"button",29),w("click",function(){g(n);let e=c();return h(e.showAddScheduleForm())}),a(1," Add Another Schedule "),o()}}var K=class s{constructor(d,n){this.eventService=d;this.scheduleService=n}event={name:"",location:"",description:"",organizerId:0,eventImage:"",schedules:[]};newSchedule={eventId:0,sessionName:"",startTime:"",endTime:"",speakerName:"",description:"",vipRows:0,generalRows:0,status:"Upcoming",capacity:0,vipPrice:0,generalPrice:0};showScheduleForm=!1;eventId=null;ngOnInit(){}submitEvent(){console.log("Event Posted:",this.event),this.eventService.createEvent(this.event).subscribe(d=>{this.eventId=d.eventId,alert("Event posted successfully!"),console.log("Event Created with ID:",this.eventId),this.showScheduleForm=!0},d=>{console.error("Error posting event:",d),alert("Failed to post event.")})}addSchedule(){this.eventId&&(this.newSchedule.eventId=this.eventId,console.log("Schedule to be added:",this.newSchedule),this.scheduleService.createSchedule(this.newSchedule).subscribe(d=>{console.log("Schedule Created:",d),this.event.schedules.push(b({},this.newSchedule)),this.showScheduleForm=!1,this.newSchedule={eventId:0,sessionName:"",startTime:"",endTime:"",speakerName:"",description:"",vipRows:0,generalRows:0,status:"Upcoming",capacity:0,vipPrice:0,generalPrice:0}},d=>{console.error("Error adding schedule:",d),alert("Failed to add schedule.")}))}showAddScheduleForm(){this.showScheduleForm=!0}deleteSchedule(d){this.event.schedules.splice(d,1)}static \u0275fac=function(n){return new(n||s)(C(J),C(x))};static \u0275cmp=E({type:s,selectors:[["app-post-new-event"]],standalone:!0,features:[T],decls:28,vars:7,consts:[[1,"post-event"],[3,"ngSubmit"],[1,"form-group"],["for","name"],["type","text","id","name","name","name","required","",3,"ngModelChange","ngModel"],["for","location"],["type","text","id","location","name","location","required","",3,"ngModelChange","ngModel"],["for","description"],["id","description","name","description","required","",3,"ngModelChange","ngModel"],["for","eventImage"],["type","text","id","eventImage","name","eventImage",3,"ngModelChange","ngModel"],[1,"schedules"],[4,"ngIf"],["class","schedule-form",4,"ngIf"],["type","button",3,"click",4,"ngIf"],["type","submit"],[4,"ngFor","ngForOf"],["type","button",1,"delete-btn",3,"click"],[1,"schedule-form"],["type","text","name","sessionName","required","",3,"ngModelChange","ngModel"],["type","datetime-local","name","startTime","required","",3,"ngModelChange","ngModel"],["type","datetime-local","name","endTime","required","",3,"ngModelChange","ngModel"],["type","text","name","speakerName","required","",3,"ngModelChange","ngModel"],["name","description",3,"ngModelChange","ngModel"],["type","number","name","vipRows",3,"ngModelChange","ngModel"],["type","number","name","generalRows",3,"ngModelChange","ngModel"],["type","number","name","capacity",3,"ngModelChange","ngModel"],["type","number","name","vipPrice",3,"ngModelChange","ngModel"],["type","number","name","generalPrice",3,"ngModelChange","ngModel"],["type","button",3,"click"]],template:function(n,r){n&1&&(i(0,"div",0)(1,"h1"),a(2,"Post New Event"),o(),i(3,"form",1),w("ngSubmit",function(){return r.submitEvent()}),i(4,"div",2)(5,"label",3),a(6,"Event Name"),o(),i(7,"input",4),u("ngModelChange",function(t){return p(r.event.name,t)||(r.event.name=t),t}),o()(),i(8,"div",2)(9,"label",5),a(10,"Location"),o(),i(11,"input",6),u("ngModelChange",function(t){return p(r.event.location,t)||(r.event.location=t),t}),o()(),i(12,"div",2)(13,"label",7),a(14,"Description"),o(),i(15,"textarea",8),u("ngModelChange",function(t){return p(r.event.description,t)||(r.event.description=t),t}),o()(),i(16,"div",2)(17,"label",9),a(18,"Event Image URL"),o(),i(19,"input",10),u("ngModelChange",function(t){return p(r.event.eventImage,t)||(r.event.eventImage=t),t}),o()(),i(20,"h3"),a(21,"Schedules"),o(),i(22,"div",11),v(23,Z,2,1,"ul",12),o(),v(24,$,43,10,"div",13)(25,ee,2,0,"button",14),i(26,"button",15),a(27,"Post Event"),o()()()),n&2&&(l(7),m("ngModel",r.event.name),l(4),m("ngModel",r.event.location),l(4),m("ngModel",r.event.description),l(4),m("ngModel",r.event.eventImage),l(4),_("ngIf",r.event.schedules.length>0),l(),_("ngIf",r.showScheduleForm),l(),_("ngIf",!r.showScheduleForm))},dependencies:[F,O,V,k,G,U,R,j,D,q,H,A,z],styles:[".post-event[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:20px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;border:1px solid #ddd;border-radius:12px;background:#fff;box-shadow:0 4px 10px #0000001a}h1[_ngcontent-%COMP%]{text-align:center;font-size:2rem;color:#333;margin-bottom:20px;font-weight:600}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{font-weight:500;display:block;margin-bottom:5px;color:#444}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:95%;padding:10px 15px;font-size:1rem;border:1px solid #ccc;border-radius:6px;outline:none;transition:border-color .3s,box-shadow .3s}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#f84464;box-shadow:0 0 5px #f8446480}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1rem;color:#fff;background-color:#f84464;border:none;border-radius:6px;cursor:pointer;transition:background-color .3s,transform .2s}button[_ngcontent-%COMP%]:hover{background-color:#c83250;transform:scale(1.05)}button[_ngcontent-%COMP%]:active{transform:scale(.98)}.schedule-form[_ngcontent-%COMP%]{border:1px solid #ddd;padding:15px;margin-bottom:20px;border-radius:6px;background:#fafafa;box-shadow:0 2px 4px #0000000d}.schedules[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:#f9f9f9;border:1px solid #ddd;padding:10px;margin-bottom:10px;border-radius:6px}.schedules[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:#333}.schedules[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem;color:#555}.schedules[_ngcontent-%COMP%]{margin-bottom:20px}.schedules[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.schedules[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;background:#f9f9f9;border:1px solid #ddd;padding:10px 15px;margin-bottom:10px;border-radius:6px;box-shadow:0 2px 4px #0000001a}.delete-btn[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;border:none;text-decoration-color:#f84464;font-size:1.2rem;line-height:1rem;cursor:pointer}.delete-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.delete-btn[_ngcontent-%COMP%]:active{transform:scale(.9)}"]})};export{K as PostNewEventComponent};
